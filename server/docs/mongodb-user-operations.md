# MongoDB User Operations Guide

## User Collection Structure

The User collection follows this schema:

```javascript
{
  _id: ObjectId,          // Automatically generated by MongoDB
  email: String,          // Required, unique, lowercase
  password: String,       // Required, min length 8 (stored hashed)
  role: String,          // Either 'user' or 'admin', default 'user'
  isVerified: Boolean,   // Default false
  verificationToken: String,      // Optional
  verificationTokenExpires: Date, // Optional
  resetPasswordToken: String,     // Optional
  resetPasswordExpires: Date,     // Optional
  createdAt: Date,       // Automatically managed
  updatedAt: Date        // Automatically managed
}
```

## Example Document

Here's an example of a user document (note: actual password will be hashed):

```javascript
{
  _id: ObjectId("67fdfd477963f530b7e49c51"),
  email: "user@example.com",
  password: "$2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewdBPj1ZxQQu7.2m", // hashed password
  role: "user",
  isVerified: true,
  createdAt: ISODate("2024-03-15T10:30:00Z"),
  updatedAt: ISODate("2024-03-15T10:30:00Z")
}
```

## MongoDB Compass Operations

### Insert a New User
1. Open MongoDB Compass
2. Connect to your database
3. Select the 'task-management' database
4. Open the 'users' collection
5. Click 'Add Data' > 'Insert Document'
6. Input the user document in JSON format

### View Users
1. Navigate to the 'users' collection
2. Use the filter bar to search specific users
3. Example filter: `{ "email": "user@example.com" }`

### Update User
1. Find the user document
2. Click the Edit button (pencil icon)
3. Modify the fields
4. Click Update

### Delete User
1. Find the user document
2. Click the Delete button (trash icon)
3. Confirm deletion

## Security Notes
- Never store plain text passwords
- Passwords are automatically hashed before storage
- Use proper validation for email addresses
- Maintain unique email addresses